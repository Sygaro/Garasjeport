<!-- Fil: admin.html -->
{% extends 'base.html' %}
{% block content %}
<h2>Adminpanel</h2>

<form method="POST">
    <h3>Portnavn</h3>
    {% for name in config.ports %}
        <label for="port{{ loop.index0 }}">Port {{ loop.index }} navn:</label>
        <input type="text" name="ports" value="{{ name }}" required><br>
    {% endfor %}

    <h3>Rele-pinner</h3>
    {% for name in config.ports %}
        <label>Rele for {{ name }}:</label>
        <input type="number" name="relay_{{ name }}" value="{{ config.relay_pins.get(name, '') }}"><br>
    {% endfor %}

    <h3>Sensor-pinner</h3>
    {% for name in config.ports %}
        <h4>{{ name }}</h4>
        <label>Ã…pen:</label>
        <input type="number" name="sensor_open_{{ name }}" value="{{ config.sensor_pins.get(name, {}).get('open', '') }}"><br>
        <label>Lukket:</label>
        <input type="number" name="sensor_closed_{{ name }}" value="{{ config.sensor_pins.get(name, {}).get('closed', '') }}"><br>
    {% endfor %}

    <br>
    <button type="submit">Lagre endringer</button>
</form>
{% endblock %}
